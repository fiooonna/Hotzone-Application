(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{21:function(e,t,n){},29:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(1),r=n.n(i),c=n(18),o=n.n(c),s=(n(29),n(2)),l=n(3),d=n(5),u=n(4),j=n.n(u),b=n(6),f=n(7),p=n.n(f),h=new(n(15).a);function x(e,t){return m.apply(this,arguments)}function m(){return(m=Object(b.a)(j.a.mark((function e(t,n){var a,i,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,i=window.location.origin+"/api/"+t+"/",e.prev=2,e.next=5,fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:h.get("token")?"Token "+h.get("token"):""},body:JSON.stringify({params:n})});case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:return e.prev=11,e.next=14,a.json();case 14:return r=e.sent,e.abrupt("return",r);case 18:return e.prev=18,e.t1=e.catch(11),e.abrupt("return","Error");case 21:case"end":return e.stop()}}),e,null,[[2,8],[11,18]])})))).apply(this,arguments)}var O=function(e){var t=Object(i.useRef)(null),n=e.onClick;return Object(i.useEffect)((function(){function e(e){t.current&&!t.current.contains(e.target)&&n(!0)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]),Object(a.jsx)("div",{ref:t,children:e.children})},g=n(41),v=Object(d.a)({root:{display:"flex",alignItems:"center",height:30,width:"100%",border:"1px solid black"},input:{width:"100%",border:"0px none",outline:"none","& :focus":{outline:"none"},lineHeight:"28px"}}),w=function(e){var t=v();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)("input",{type:e.type?e.type:"input",className:t.input,required:!0,onChange:e.onChange})})},N=Object(d.a)({root:{display:"flex",alignItems:"center",height:30,width:"100%",border:"1px solid black"},input:{width:"100%",border:"0px none",outline:"none","& :focus":{outline:"none"},lineHeight:"28px"}}),y=function(e){var t=N();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)("input",{value:e.value,type:e.type?e.type:"date",className:t.input,required:!0,onChange:e.onChange})})},C=Object(d.a)({root:{display:"flex",alignItems:"center",height:30,width:"100%",border:"1px solid black"},input:{width:"100%",border:"0px none",outline:"none","& :focus":{outline:"none"},lineHeight:"28px"}}),k=function(e){var t=C();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)("select",{className:t.input,required:!0,onChange:e.onChange,children:[Object(a.jsx)("option",{value:"Local",children:"Local"}),Object(a.jsx)("option",{value:"Import",children:"Imported"})]})})},S=(Object(d.a)({root:{display:"flex",alignItems:"center",height:30,width:"100%",border:"1px solid black"},input:{width:"100%",border:"0px none",outline:"none","& :focus":{outline:"none"},lineHeight:"28px"}}),Object(d.a)({root:{display:"flex",alignItems:"center",height:30,width:"100%"},input:{width:"auto",border:"0px none",outline:"none","& :focus":{outline:"none"},lineHeight:"28px"}}),n(9)),B=(n(21),Object(d.a)({root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",paddingLeft:30,position:"relative"},selectionTitle:{width:"100%",fontSize:40,borderBottom:"1px solid black",fontWeight:500,marginBottom:10},selectionField:{display:"flex"},selectionLabel:{fontSize:20},selectionInputField:{width:"400px",marginLeft:20,marginTop:5,marginBottom:5},nextPage:{marginTop:20,width:120,height:40,color:"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",cursor:"pointer",fontSize:15,borderRadius:5,position:"absolute",right:15,border:"1px solid black"},input:{width:"50%",background:"grey",border:"0px none",outline:"none","& :focus":{outline:"none"},lineHeight:"28px"},submitBtn:{marginTop:20,width:"10%",height:40,color:"white",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",cursor:"pointer",fontSize:20},btnContainer:{position:"relative"}})),T=function(e){var t=B(),n=Object(i.useState)(e.patient?e.patient.patientName:""),r=Object(s.a)(n,2),c=r[0],o=r[1],l=Object(i.useState)(e.patient?e.patient.patientID:""),d=Object(s.a)(l,2),u=d[0],j=d[1],b=Object(i.useState)(e.patient?e.patient.patientDOB:""),f=Object(s.a)(b,2),p=f[0],h=f[1],x=Object(i.useState)(e.patient?e.patient.dateConfirmed:""),m=Object(s.a)(x,2),O=m[0],g=m[1],v=Object(i.useState)(e.patient?e.patient.localImported:"Local"),w=Object(s.a)(v,2),N=w[0],C=w[1],S=Object(i.useState)(e.patient?e.patient.virusName:""),T=Object(s.a)(S,2),I=T[0],D=T[1];return Object(i.useEffect)((function(){e.virusList.lengh<=0&&(alert("Please add virus first"),window.location.reload())}),[]),Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:t.selectionTitle,children:"Patient Information"}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Patient Name:"}),Object(a.jsx)("div",{className:t.selectionInputField,children:Object(a.jsx)("input",{value:c,onChange:function(e){return o(e.target.value)}})})]}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Patient ID Document Number:"}),Object(a.jsx)("div",{className:t.selectionInputField,children:Object(a.jsx)("input",{value:u,onChange:function(e){return j(e.target.value)}})})]}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Date of Birth:"}),Object(a.jsx)("div",{className:t.selectionInputField,children:Object(a.jsx)(y,{value:p,onChange:function(e){return h(e.target.value)}})})]}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Date Confirmed:"}),Object(a.jsx)("div",{className:t.selectionInputField,children:Object(a.jsx)(y,{value:O,onChange:function(e){return g(e.target.value)}})})]}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Local/Imported:"}),Object(a.jsx)("div",{className:t.selectionInputField,children:Object(a.jsx)(k,{value:N,onChange:function(e){return C(e.target.value)}})})]}),Object(a.jsx)("div",{className:t.selectionTitle,children:"Virus Information"}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Virus Name:"}),Object(a.jsx)("div",{className:t.selectionInputField,children:Object(a.jsxs)("select",{className:"category",value:I,onChange:function(e){return D(e.target.value)},children:[Object(a.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Please Choose..."}),e.virusList.length>0&&e.virusList.map((function(e,t){return Object(a.jsx)("option",{value:e.virus_name,children:e.virus_name},t)}))]})})]}),Object(a.jsx)("div",{className:t.selectionField}),Object(a.jsx)("div",{className:t.btnContainer,children:Object(a.jsx)("div",{className:t.nextPage,onClick:function(){if(""!==c&&""!==u&&""!==p&&""!==O&&""!==N&&""!==I){var t={patientName:c,patientID:u,patientDOB:p,virusName:I,dateConfirmed:O,localImported:N};e.onPageChange(1,t,null)}else alert("Missing some field")},children:"Next Page"})})]})},I=n(16),D=n(10),P=n.n(D),F=Object(d.a)({root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",paddingLeft:30,position:"relative"},selectionTitle:{width:"100%",fontSize:40,borderBottom:"1px solid black",fontWeight:500,marginBottom:10},selectionField:{display:"flex"},selectionLabel:{fontSize:20},nextPage:{cursor:"pointer",textDecoration:" underline",position:"absolute",bottom:0,right:20},searchBtn:{marginLeft:10,cursor:"pointer"},locationBox:{},backBtn:{marginTop:20,width:60,height:40,color:"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",cursor:"pointer",fontSize:15,borderRadius:5,position:"absolute",left:0,border:"1px solid black"},submitBtn:{marginTop:20,width:60,height:40,color:"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",cursor:"pointer",fontSize:15,borderRadius:5,position:"absolute",right:30,border:"1px solid black"},addBtn:{marginTop:20,width:150,height:40,color:"white",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",cursor:"pointer",fontSize:18,borderRadius:5},closeBtn:{cursor:"pointer"},searchContainer:{position:"relative"},BtnContainer:{display:"flex",justifyContent:"center",position:"relative"},resultRow:{display:"flex",flexDirection:"column",border:"1px solid black",cursor:"pointer","&:hover":{backgroundColor:"grey"}},placeName:{fontWeight:"bold"},address:{fontSize:13},dropDown:{position:"absolute",maxHeight:500,overflowY:"scroll",display:"flex",flexDirection:"column",border:"1px solid black",backgroundColor:"white","& > div":{paddingLeft:10},zIndex:1}}),L=function(e){var t=F(),n=Object(i.useState)(e.data.category),r=Object(s.a)(n,2),c=r[0],o=r[1],l=Object(i.useState)(e.data.dateFrom),d=Object(s.a)(l,2),u=d[0],f=d[1],h=Object(i.useState)(e.data.dateTo),m=Object(s.a)(h,2),O=m[0],g=m[1],v=Object(i.useState)(e.data.location?e.data.location.nameEN:""),w=Object(s.a)(v,2),N=w[0],y=w[1],C=Object(i.useState)(""),k=Object(s.a)(C,2),S=k[0],B=k[1],T=Object(i.useState)(!1),I=Object(s.a)(T,2),D=I[0],P=I[1],L=Object(i.useState)(e.data.location),R=Object(s.a)(L,2),H=R[0],z=R[1],E=Object(i.useState)(null),_=Object(s.a)(E,2),V=_[0],W=_[1],M=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===N){e.next=5;break}return e.next=3,x("searchLocation",{locationTerm:N});case 3:"Error"!=(t=e.sent)?B(t):alert("No matching record");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){H&&(W(H),z(null),B(""))}),[H]),Object(i.useEffect)((function(){var t={category:c,dateFrom:u,dateTo:O,location:V};e.onRecordChange(t)}),[c,u,O,V]);return Object(a.jsx)(a.Fragment,{children:!D&&Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsxs)("select",{className:"category",value:c,onChange:function(e){return o(e.target.value)},children:[Object(a.jsx)("option",{value:"Residence",children:"Residence"}),Object(a.jsx)("option",{value:"Workplace",children:"Workplace"}),Object(a.jsx)("option",{value:"Visit",children:"Visit"})]})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"date",className:"dateFrom",value:u,onChange:function(e){return t=e.target.value,"Visit"===c&&g(t),void(t>O&&""!==O?alert("Date from can only be earilier than date to"):f(t));var t}})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"date",className:"dateTo",value:O,onChange:function(e){return t=e.target.value,"Visit"===c&&f(t),void(t<u&&""!==u?alert("Date to can only be later than date from"):g(t));var t}})}),Object(a.jsx)("td",{className:t.locationBox,children:Object(a.jsxs)("div",{className:t.searchContainer,children:[Object(a.jsx)("input",{type:"text",value:N,onChange:function(e){return y(e.target.value)}}),Object(a.jsx)("i",{className:p()("fa fa-search",t.searchBtn),onClick:M}),""!==S&&!H&&Object(a.jsx)("div",{className:t.dropDown,children:S.map((function(e){return Object(a.jsxs)("div",{className:t.resultRow,onClick:function(){z(e),y(e.nameEN)},children:[Object(a.jsx)("div",{className:t.placeName,children:e.nameEN}),Object(a.jsx)("div",{className:t.address,children:e.addressEN})]})}))})]})}),Object(a.jsx)("td",{children:Object(a.jsx)("i",{className:p()(t.closeBtn,"fa fa-window-close"),onClick:function(){e.onDeleteRow()&&P(!0)}})})]})})},R=function(e){var t=Object(i.useState)(0),n=Object(s.a)(t,2),r=(n[0],n[1],F()),c={category:"Residence",dateFrom:"",dateTo:"",location:null,result:[]},o=Object(i.useState)(e.locationRecord),d=Object(s.a)(o,2),u=d[0],j=d[1];console.log(u);return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)("div",{className:r.selectionTitle,children:"Add Location Record"}),Object(a.jsxs)("table",{className:r.empTable,children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Category"}),Object(a.jsx)("th",{children:"Date From"}),Object(a.jsx)("th",{children:"Date To"}),Object(a.jsx)("th",{children:"Location"}),Object(a.jsx)("th",{children:"Delete"})]}),Object(a.jsx)("tbody",{children:u.map((function(e,t){return e?Object(a.jsx)(L,{onRecordChange:function(e){return function(e,t){var n=Object(I.a)(u);n[t]=e,j(n)}(e,t)},onDeleteRow:function(){return function(e){var t=P.a.filter(u,(function(e){if(e){var t=e.dateFrom,n=e.dateTo,a=e.location;return!(""===t||""===n||!a)}return!1})),n=u[e],a=n.dateFrom,i=n.dateTo,r=n.location,c=u.length>1;if(console.log(t,c),!(t.length>1)){if((""===a||""===i||!r)&&c){var o=Object(I.a)(u);return o[e]=null,j(o),!0}return alert("You need at least one location record"),!1}var s=Object(I.a)(u);return s[e]=null,j(s),!0}(t)},data:u[t]}):Object(a.jsx)(a.Fragment,{})}))})]}),Object(a.jsxs)("div",{className:r.BtnContainer,children:[Object(a.jsx)("div",{className:r.backBtn,onClick:function(){return e.onPageChange(0,null,u)},children:"Back"}),Object(a.jsx)("div",{className:r.addBtn,onClick:function(){for(var e,t=u.length-1;t>=0;t--)if(u[t]){e=u[t];break}var n=e,a=n.dateFrom,i=n.dateTo,r=n.location;if(""!==a&&""!==i&&r){var o=Object(l.a)({},c);j((function(e){return e.concat(o)}))}else alert("Missing some fields")},children:"Add"}),Object(a.jsx)("div",{className:r.submitBtn,onClick:function(){u.some((function(e){if(e){var t=e.dateFrom,n=e.dateTo,a=e.location;return""===t||""===n||!a}return!1}))?alert("Missing some fields"):(console.log(u),e.submitForm(u))},children:"Submit"})]})]})},H=function(e){var t=Object(i.useState)(0),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(i.useState)(null),d=Object(s.a)(o,2),u=d[0],f=d[1],p=Object(i.useState)([]),h=Object(s.a)(p,2),m=h[0],O=h[1],g=Object(i.useState)([Object(l.a)({},{category:"Residence",dateFrom:"",dateTo:"",location:null})]),v=Object(s.a)(g,2),w=v[0],N=v[1],y=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(t),!((n=P.a.filter(t,(function(e){return e}))).length>0)){e.next=7;break}return e.next=5,x("submitCase",{patient:u,location:n});case 5:"Success"===e.sent.status&&(window.alert("You have successfully input the patient info."),window.location.reload());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t,n){t&&f(t),n&&N(n),c(e)};return Object(i.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("getAllVirus",[]);case 2:(t=e.sent).length<1&&(alert("Please add virus first!"),window.location.reload()),O(t);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(a.jsx)(a.Fragment,{children:0===r?Object(a.jsx)(T,{onPageChange:C,patient:u,virusList:m}):Object(a.jsx)(R,{onPageChange:C,locationRecord:w,submitForm:y})})},z=(n(39),Object(d.a)({root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",paddingLeft:30,position:"relative"},bigTitle:{width:"100%",fontSize:40,borderBottom:"1px solid black",fontWeight:500,marginBottom:10},row:{cursor:"pointer"}})),E=Object(d.a)({root:{position:"relative",display:"flex",flexDirection:"column"},container:{display:"grid",gridTemplateColumns:"1fr 1fr"},backBtn:{position:"absoulte",top:10,left:0,height:30,width:60,borderRadius:6,border:"1px solid black",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginBottom:20},row:{marginBottom:20}}),_=function(e){var t=E(),n=e.case,r=Object(i.useState)([]),c=Object(s.a)(r,2),o=c[0],d=c[1],u=[{Header:"Date From",accessor:"date_from"},{Header:"Date To",accessor:"date_to"},{Header:"Name of Location",accessor:"location_name"},{Header:"Address",accessor:"address"},{Header:"Category",accessor:"category"}],j=Object(i.useMemo)((function(){return u}),[]);Object(i.useEffect)((function(){for(var e=function(e){var t=Object(l.a)(Object(l.a)({},n.locations[e]),n.visited[e]);d((function(e){return e.concat(t)}))},t=0;t<n.locations.length;t++)e(t)}),[]);var b=Object(S.useTable)({columns:j,data:o}),f=(b.getTableProps,b.getTableBodyProps),p=b.headerGroups,h=b.rows,x=b.prepareRow;return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:t.backBtn,onClick:e.onBack,children:"Back"}),Object(a.jsxs)("div",{className:t.container,children:[Object(a.jsxs)("div",{className:t.row,children:["Case ID: ",n.case.case_no]}),Object(a.jsx)("div",{}),Object(a.jsxs)("div",{className:t.row,children:["Patient Name: ",n.patient.patient_name]}),Object(a.jsxs)("div",{className:t.row,children:["Confirmed Date: ",n.case.date_confirmed]}),Object(a.jsxs)("div",{className:t.row,children:["ID number: ",n.patient.hkid]}),Object(a.jsxs)("div",{className:t.row,children:["Local/Imported: ",n.case.local_or_imported]}),Object(a.jsxs)("div",{className:t.row,children:["Virus Name: ",n.virus.common_name]}),Object(a.jsxs)("div",{className:t.row,children:["Date of birth: ",n.patient.birth_date]})]}),n.locations.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:t.row,children:"Location visited:"}),Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:p.map((function(e){return Object(a.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(a.jsx)("tbody",Object(l.a)(Object(l.a)({},f()),{},{children:h.map((function(e){return x(e),Object(a.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})]})]})},V=function(e){var t=Object(i.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],o=Object(i.useState)(null),d=Object(s.a)(o,2),u=d[0],f=d[1],p=z(),h=[{Header:"CaseId",accessor:"case_no"},{Header:"Patient",accessor:"patient_name"},{Header:"Virus",accessor:"virus_name"},{Header:"Date Confirmed",accessor:"date_confirmed"}],m=Object(i.useMemo)((function(){return h}),[]);Object(i.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("getAllCase",[]);case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))()}),[]);var O=Object(S.useTable)({columns:m,data:r}),g=(O.getTableProps,O.getTableBodyProps),v=O.headerGroups,w=O.rows,N=O.prepareRow,y=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("getCaseById",{id:t.values.case_no});case 2:n=e.sent,f(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:p.root,children:[Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:p.bigTitle,children:"View Record"})}),r.length>0&&!u&&Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:v.map((function(e){return Object(a.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(a.jsx)("tbody",Object(l.a)(Object(l.a)({},g()),{},{children:w.map((function(e){return N(e),Object(a.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{onClick:function(){y(e)},className:p.row,children:e.cells.map((function(e){return Object(a.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}),u&&Object(a.jsx)(_,{case:u,onBack:function(){return f(null)}})]})},W=Object(d.a)({root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",paddingLeft:30,position:"relative"},bigTitle:{width:"100%",fontSize:40,borderBottom:"1px solid black",fontWeight:500,marginBottom:10},selectionField:{display:"flex"},selectionLabel:{fontSize:20},submitBtn:{marginTop:20,width:"10%",height:40,color:"white",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",cursor:"pointer",fontSize:20}}),M=function(e){var t=W(),n=Object(i.useState)(""),r=Object(s.a)(n,2),c=r[0],o=r[1],d=Object(i.useState)(""),u=Object(s.a)(d,2),f=u[0],p=u[1],h=Object(i.useState)(""),m=Object(s.a)(h,2),O=m[0],g=m[1],v=Object(i.useState)([]),w=Object(s.a)(v,2),N=w[0],y=w[1],C=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&c&&f){e.next=4;break}alert("Missing some fields"),e.next=14;break;case 4:if(!isNaN(O)){e.next=8;break}alert("Max inflectious period should be a number"),e.next=14;break;case 8:return e.next=10,x("addVinfo",{vname:c,disease:f,maxp:O});case 10:o(""),p(""),g(""),window.alert("You have successfully input the virus info.");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=[{Header:"Virus Name",accessor:"virus_name"},{Header:"Disease",accessor:"common_name"},{Header:"Max. Infectious Period (days)",accessor:"max_infect_period"}],B=Object(i.useMemo)((function(){return k}),[]);Object(i.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("getAllVirus",[]);case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})))()}),[c]);var T=Object(S.useTable)({columns:B,data:N}),I=(T.getTableProps,T.getTableBodyProps),D=T.headerGroups,P=T.rows,F=T.prepareRow;return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:t.bigTitle,children:"Virus Info Page"}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Virus Name: "}),Object(a.jsx)("input",{value:c,onChange:function(e){return o(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Disease: "}),Object(a.jsx)("input",{value:f,onChange:function(e){return p(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:t.selectionField,children:[Object(a.jsx)("div",{className:t.selectionLabel,children:"Max. Infectious Period:"}),Object(a.jsx)("input",{value:O,onChange:function(e){return g(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:t.submitBtn,onClick:C,children:"Submit"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),N.length>0&&Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:D.map((function(e){return Object(a.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(a.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(a.jsx)("tbody",Object(l.a)(Object(l.a)({},I()),{},{children:P.map((function(e){return F(e),Object(a.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(a.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})]})},A=Object(d.a)({root:{display:"grid",gridTemplateColumns:"1.25fr 6fr",gridTemplateRows:"1fr 8fr",padding:"30px 20px 20px 20px"},menuPanel:{width:"100%",display:"flex",flexDirection:"column",paddingTop:20},searchResult:{"& > div":{marginBottom:10}},inputBox:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"3px 10px 3px 10px",border:"1px solid gray",borderRadius:15,height:30,width:200,marginBottom:20},input:{border:"0px none",outline:"none","& :focus":{outline:"none"}},submitBtn:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",padding:"3px 10px 3px 10px",border:"1px solid gray",borderRadius:15,height:30,width:100,marginBottom:20,backgroundColor:"greenyellow",cursor:"pointer"},flex:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly"},inputs:{display:"grid",gridTemplateColumns:"1fr 3fr",gridTemplateRows:"1fr 1fr 1fr 1fr 1fr",rowGap:"1em",width:"100%",marginBottom:10,"& div":{marginRight:15,fontSize:30}},menuOptions:{width:"100%",textAlign:"center",fontSize:20,marginBottom:10,height:"1.5em",cursor:"pointer"},sectionTitle:{fontSize:45,width:"100%",borderBottom:"1px solid grey",marginBottom:"10px"},addNew:{boxShadow:"1px 2px",border:"1px solid grey",borderRadius:"20px"},menuBtn:{fontSize:25,cursor:"pointer",marginRight:5},title:{fontSize:45,fontWeight:"bold",cursor:"pointer"},account:{width:"100%",display:"flex",justifyContent:"flex-end",position:"relative",alignItems:"center"},username:{cursor:"pointer",textDecoration:" underline"},accountOption:{position:"absolute",top:0,right:0,display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",boxShadow:"1px 2px",border:"1px solid grey",backgroundColor:"lightgrey",width:200,height:50,borderRadius:5,padding:5,"& > *:not(:first-child)":{marginTop:10},"& div":{cursor:"pointer",textDecoration:" underline"}},searchBtn:{fontSize:20,cursor:"pointer"},unselected:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:50}}),G=(Object(d.a)({root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",paddingLeft:30},selectionTitle:{width:"100%",fontSize:40,borderBottom:"1px solid black",fontWeight:500,marginBottom:10},selectionField:{display:"flex"},selectionLabel:{fontSize:20}}),function(){var e=A(),t=Object(i.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],o=K(),l=Object(s.a)(o,2),d=l[0].username,u=l[1],f=Object(i.useState)(!1),h=Object(s.a)(f,2),m=h[0],v=h[1],w=Object(g.a)(["cookie-name"]),N=Object(s.a)(w,3),y=(N[0],N[1],N[2]);Object(i.useEffect)((function(){Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("getUserInfo");case 2:"Success"===(t=e.sent).status&&(n=t.username,a=t.first+" "+t.last,u({type:"SET_USER",username:n,name:a}));case 4:case"end":return e.stop()}}),e)})))()}),[]);var C=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("signout");case 2:"Success"===e.sent.status&&(y("token"),window.location.reload());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)("div",{className:e.flex,children:Object(a.jsx)("span",{className:e.title,onClick:function(){return c("")},children:"HotZone"})}),Object(a.jsxs)("div",{className:e.account,children:[m&&Object(a.jsx)(O,{onClick:function(e){v(!e)},children:Object(a.jsx)("div",{className:e.accountOption,children:Object(a.jsx)("div",{onClick:C,children:"Logout"})})}),Object(a.jsx)("div",{className:e.username,onClick:function(){return v(!0)},children:d})]}),Object(a.jsxs)("div",{className:e.menuPanel,children:[Object(a.jsx)("div",{onClick:function(){c("addNewRecord")},value:"add",className:p()(e.addNew,e.menuOptions),children:"New record"}),Object(a.jsx)("div",{className:p()(e.addNew,e.menuOptions),onClick:function(){return c("viewRecord")},children:"View Records"}),Object(a.jsx)("div",{className:p()(e.addNew,e.menuOptions),onClick:function(){return c("virusInfo")},children:"Virus Info"})]}),""===r&&Object(a.jsx)("div",{className:e.unselected,children:"Please choose from the left options"}),"addNewRecord"===r&&Object(a.jsx)(H,{}),"viewRecord"===r&&Object(a.jsx)(V,{}),"virusInfo"===r&&Object(a.jsx)(M,{})]})}),U=Object(d.a)({root:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{fontSize:50,fontWeight:"bold"},loginBox:{width:500,padding:"30px 10px 30px 10px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",border:"1px solid black"},column:{display:"flex",flexDirection:"column",marginBottom:10,width:"100%"},loginBtn:{marginTop:20,width:"60%",height:50,color:"white",backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",cursor:"pointer",fontSize:25}}),Y=function(e){var t=U(),n=Object(i.useState)(""),r=Object(s.a)(n,2),c=r[0],o=r[1],l=Object(i.useState)(""),d=Object(s.a)(l,2),u=d[0],f=d[1],p=function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===c||""===u){t.next=5;break}return t.next=3,x("signin",{username:c,password:u});case 3:"Success"===(n=t.sent).status?e.onLoginSuccess(n.token):alert("Please enter correct information.");case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:t.title,children:"Hotzone"}),Object(a.jsxs)("div",{className:t.loginBox,children:[Object(a.jsxs)("div",{className:t.column,children:[Object(a.jsx)("div",{children:"Username"}),Object(a.jsx)(w,{onChange:function(e){return o(e.target.value)}})]}),Object(a.jsxs)("div",{className:t.column,children:[Object(a.jsx)("div",{children:"Password"}),Object(a.jsx)(w,{onChange:function(e){return f(e.target.value)},type:"password"})]}),Object(a.jsx)("div",{className:t.loginBtn,onClick:p,children:"Login"})]})]})},q=Object(i.createContext)({}),J=function(e,t){if("SET_USER"===t.type){var n=P.a.pick(t,["username","name"]);return Object(l.a)(Object(l.a)({},e),n)}return e},Z={username:"",name:""};var K=function(){return Object(i.useContext)(q)},Q=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(g.a)(["cookie-name"]),o=Object(s.a)(c,3),l=o[0],d=o[1],u=(o[2],Object(i.useReducer)(J,Z)),j=Object(s.a)(u,2),b=j[0],f=j[1];return Object(i.useEffect)((function(){l.token&&r(!0)}),[]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(q.Provider,{value:[b,f],children:Object(a.jsx)("div",{children:n?Object(a.jsx)(G,{}):Object(a.jsx)(Y,{onLoginSuccess:function(e){return function(e){r(!0),d("token",e)}(e)}})})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Q,{})}),document.getElementById("root")),X()}},[[40,1,2]]]);
//# sourceMappingURL=main.8adcc73d.chunk.js.map