{"ast":null,"code":"import _regeneratorRuntime from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{createUseStyles}from\"react-jss\";import cn from\"classnames\";import{useRootState}from\"@/App.js\";import{request}from\"@/request.js\";import ClickAway from\"@/components/Utils/ClickAway\";import{useCookies}from\"react-cookie\";import AddNewRecord from\"@/components/Views/AddNewRecord\";import ViewRecord from\"@/components/Views/ViewRecord\";import VirusInfo from\"./VirusInfo\";// import ReactTable from \"react-table\";\n// import \"react-table/react-table.css\"\nvar useHomePageStyle=createUseStyles({root:{display:\"grid\",gridTemplateColumns:\"1.25fr 6fr\",gridTemplateRows:\"1fr 8fr\",padding:\"30px 20px 20px 20px\"},menuPanel:{width:\"100%\",display:\"flex\",flexDirection:\"column\",paddingTop:20},searchResult:{\"& > div\":{marginBottom:10}},inputBox:{display:\"flex\",flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\",padding:\"3px 10px 3px 10px\",border:\"1px solid gray\",borderRadius:15,height:30,width:200,marginBottom:20},input:{border:\"0px none\",outline:\"none\",\"& :focus\":{outline:\"none\"}},submitBtn:{display:\"flex\",flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-evenly\",padding:\"3px 10px 3px 10px\",border:\"1px solid gray\",borderRadius:15,height:30,width:100,marginBottom:20,backgroundColor:\"greenyellow\",cursor:\"pointer\"},flex:{display:\"flex\",flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-evenly\"},inputs:{display:\"grid\",gridTemplateColumns:\"1fr 3fr\",gridTemplateRows:\"1fr 1fr 1fr 1fr 1fr\",rowGap:\"1em\",width:\"100%\",marginBottom:10,\"& div\":{marginRight:15,fontSize:30}},menuOptions:{width:\"100%\",textAlign:\"center\",fontSize:20,marginBottom:10,height:\"1.5em\",cursor:\"pointer\"},sectionTitle:{fontSize:45,width:\"100%\",borderBottom:\"1px solid grey\",marginBottom:\"10px\"},addNew:{boxShadow:\"1px 2px\",border:\"1px solid grey\",borderRadius:\"20px\"},menuBtn:{fontSize:25,cursor:\"pointer\",marginRight:5},title:{fontSize:45,fontWeight:\"bold\",cursor:\"pointer\"},account:{width:\"100%\",display:\"flex\",justifyContent:\"flex-end\",position:\"relative\",alignItems:\"center\"},username:{cursor:\"pointer\",textDecoration:\" underline\"},accountOption:{position:\"absolute\",top:0,right:0,display:\"flex\",flexDirection:\"column\",alignItems:\"flex-end\",justifyContent:\"center\",boxShadow:\"1px 2px\",border:\"1px solid grey\",backgroundColor:\"lightgrey\",width:200,height:50,borderRadius:5,padding:5,\"& > *:not(:first-child)\":{marginTop:10},\"& div\":{cursor:\"pointer\",textDecoration:\" underline\"}},searchBtn:{fontSize:20,cursor:\"pointer\"},unselected:{width:\"100%\",height:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontSize:50}});var useInputFormStyle=createUseStyles({root:{width:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"flex-start\",paddingLeft:30},selectionTitle:{width:\"100%\",fontSize:40,borderBottom:\"1px solid black\",fontWeight:500,marginBottom:10},selectionField:{display:\"flex\"},selectionLabel:{fontSize:20}});var InputForm=function InputForm(){var classes=useInputFormStyle();return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.selectionTitle,children:\"Patient Information\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.selectionField,children:/*#__PURE__*/_jsx(\"div\",{className:classes.selectionLabel,children:\"Patient Name:\"})})]});};var ViewTable=function ViewTable(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Table for Records\"})});};var HomePage=function HomePage(){var classes=useHomePageStyle();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),currentDisplay=_useState2[0],setCurrentDisplay=_useState2[1];var _useRootState=useRootState(),_useRootState2=_slicedToArray(_useRootState,2),name=_useRootState2[0].name,dispatch=_useRootState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modal=_useState4[0],setModal=_useState4[1];var _useCookies=useCookies([\"cookie-name\"]),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];useEffect(function(){;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,username,_name;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return request(\"getUserInfo\");case 2:result=_context.sent;if(result.status===\"Success\"){username=result.username;_name=result.first+\" \"+result.last;dispatch({type:\"SET_USER\",username:username,name:_name});// console.log(result)\n}case 4:case\"end\":return _context.stop();}}},_callee);}))();},[]);var addNewRecord=function addNewRecord(){setCurrentDisplay(\"addNewRecord\");};var viewRecord=function viewRecord(){setCurrentDisplay(\"viewRecord\");};var onClick=function onClick(state){setModal(!state);};var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return request(\"signout\");case 2:result=_context2.sent;if(result.status===\"Success\"){removeCookie(\"token\");window.location.reload();}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function logout(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.flex,children:/*#__PURE__*/_jsx(\"span\",{className:classes.title,onClick:function onClick(){return setCurrentDisplay(\"\");},children:\"HotZone\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.account,children:[modal&&/*#__PURE__*/_jsx(ClickAway,{onClick:onClick,children:/*#__PURE__*/_jsx(\"div\",{className:classes.accountOption,children:/*#__PURE__*/_jsx(\"div\",{onClick:logout,children:\"Logout\"})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.username,onClick:function onClick(){return setModal(true);},children:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.menuPanel,children:[/*#__PURE__*/_jsx(\"div\",{onClick:addNewRecord,value:\"add\",className:cn(classes.addNew,classes.menuOptions),children:\"New record\"}),/*#__PURE__*/_jsx(\"div\",{className:cn(classes.addNew,classes.menuOptions),onClick:function onClick(){return setCurrentDisplay(\"viewRecord\");},children:\"View Records\"}),/*#__PURE__*/_jsx(\"div\",{className:cn(classes.addNew,classes.menuOptions),onClick:function onClick(){return setCurrentDisplay(\"virusInfo\");},children:\"Virus Info\"})]}),currentDisplay===\"\"&&/*#__PURE__*/_jsx(\"div\",{className:classes.unselected,children:\"Please choose from the left options\"}),currentDisplay===\"addNewRecord\"&&/*#__PURE__*/_jsx(AddNewRecord,{}),currentDisplay===\"viewRecord\"&&/*#__PURE__*/_jsx(ViewRecord,{}),currentDisplay===\"virusInfo\"&&/*#__PURE__*/_jsx(VirusInfo,{})]});};export default HomePage;","map":{"version":3,"sources":["/Users/johnny/hotzone/frontend/src/components/Views/HomePage.js"],"names":["React","useEffect","useState","createUseStyles","cn","useRootState","request","ClickAway","useCookies","AddNewRecord","ViewRecord","VirusInfo","useHomePageStyle","root","display","gridTemplateColumns","gridTemplateRows","padding","menuPanel","width","flexDirection","paddingTop","searchResult","marginBottom","inputBox","alignItems","justifyContent","border","borderRadius","height","input","outline","submitBtn","backgroundColor","cursor","flex","inputs","rowGap","marginRight","fontSize","menuOptions","textAlign","sectionTitle","borderBottom","addNew","boxShadow","menuBtn","title","fontWeight","account","position","username","textDecoration","accountOption","top","right","marginTop","searchBtn","unselected","useInputFormStyle","paddingLeft","selectionTitle","selectionField","selectionLabel","InputForm","classes","ViewTable","HomePage","currentDisplay","setCurrentDisplay","name","dispatch","modal","setModal","cookies","setCookie","removeCookie","result","status","first","last","type","addNewRecord","viewRecord","onClick","state","logout","window","location","reload"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAAyC,OAAzC,CACA,OAASC,eAAT,KAAgC,WAAhC,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,YAAT,KAA6B,UAA7B,CACA,OAASC,OAAT,KAAwB,cAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,iCAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA;AACA;AAEA,GAAMC,CAAAA,gBAAgB,CAAGT,eAAe,CAAC,CACvCU,IAAI,CAAE,CACJC,OAAO,CAAE,MADL,CAEJC,mBAAmB,CAAE,YAFjB,CAGJC,gBAAgB,CAAE,SAHd,CAIJC,OAAO,CAAE,qBAJL,CADiC,CAOvCC,SAAS,CAAE,CACTC,KAAK,CAAE,MADE,CAETL,OAAO,CAAE,MAFA,CAGTM,aAAa,CAAE,QAHN,CAITC,UAAU,CAAE,EAJH,CAP4B,CAavCC,YAAY,CAAE,CACZ,UAAW,CACTC,YAAY,CAAE,EADL,CADC,CAbyB,CAkBvCC,QAAQ,CAAE,CACRV,OAAO,CAAE,MADD,CAERM,aAAa,CAAE,KAFP,CAGRK,UAAU,CAAE,QAHJ,CAIRC,cAAc,CAAE,eAJR,CAKRT,OAAO,CAAE,mBALD,CAMRU,MAAM,CAAE,gBANA,CAORC,YAAY,CAAE,EAPN,CAQRC,MAAM,CAAE,EARA,CASRV,KAAK,CAAE,GATC,CAURI,YAAY,CAAE,EAVN,CAlB6B,CA8BvCO,KAAK,CAAE,CACLH,MAAM,CAAE,UADH,CAELI,OAAO,CAAE,MAFJ,CAGL,WAAY,CACVA,OAAO,CAAE,MADC,CAHP,CA9BgC,CAqCvCC,SAAS,CAAE,CACTlB,OAAO,CAAE,MADA,CAETM,aAAa,CAAE,KAFN,CAGTK,UAAU,CAAE,QAHH,CAITC,cAAc,CAAE,cAJP,CAKTT,OAAO,CAAE,mBALA,CAMTU,MAAM,CAAE,gBANC,CAOTC,YAAY,CAAE,EAPL,CAQTC,MAAM,CAAE,EARC,CASTV,KAAK,CAAE,GATE,CAUTI,YAAY,CAAE,EAVL,CAWTU,eAAe,CAAE,aAXR,CAYTC,MAAM,CAAE,SAZC,CArC4B,CAmDvCC,IAAI,CAAE,CACJrB,OAAO,CAAE,MADL,CAEJM,aAAa,CAAE,KAFX,CAGJK,UAAU,CAAE,QAHR,CAIJC,cAAc,CAAE,cAJZ,CAnDiC,CAyDvCU,MAAM,CAAE,CACNtB,OAAO,CAAE,MADH,CAENC,mBAAmB,CAAE,SAFf,CAGNC,gBAAgB,CAAE,qBAHZ,CAINqB,MAAM,CAAE,KAJF,CAKNlB,KAAK,CAAE,MALD,CAMNI,YAAY,CAAE,EANR,CAON,QAAS,CACPe,WAAW,CAAE,EADN,CAEPC,QAAQ,CAAE,EAFH,CAPH,CAzD+B,CAsEvCC,WAAW,CAAE,CACXrB,KAAK,CAAE,MADI,CAEXsB,SAAS,CAAE,QAFA,CAGXF,QAAQ,CAAE,EAHC,CAIXhB,YAAY,CAAE,EAJH,CAKXM,MAAM,CAAE,OALG,CAMXK,MAAM,CAAE,SANG,CAtE0B,CA8EvCQ,YAAY,CAAE,CACZH,QAAQ,CAAE,EADE,CAEZpB,KAAK,CAAE,MAFK,CAGZwB,YAAY,CAAE,gBAHF,CAIZpB,YAAY,CAAE,MAJF,CA9EyB,CAoFvCqB,MAAM,CAAE,CACNC,SAAS,CAAE,SADL,CAENlB,MAAM,CAAE,gBAFF,CAGNC,YAAY,CAAE,MAHR,CApF+B,CAyFvCkB,OAAO,CAAE,CACPP,QAAQ,CAAE,EADH,CAEPL,MAAM,CAAE,SAFD,CAGPI,WAAW,CAAE,CAHN,CAzF8B,CA8FvCS,KAAK,CAAE,CACLR,QAAQ,CAAE,EADL,CAELS,UAAU,CAAE,MAFP,CAGLd,MAAM,CAAE,SAHH,CA9FgC,CAoGvCe,OAAO,CAAE,CACP9B,KAAK,CAAE,MADA,CAEPL,OAAO,CAAE,MAFF,CAGPY,cAAc,CAAE,UAHT,CAIPwB,QAAQ,CAAE,UAJH,CAKPzB,UAAU,CAAE,QALL,CApG8B,CA2GvC0B,QAAQ,CAAE,CACRjB,MAAM,CAAE,SADA,CAERkB,cAAc,CAAE,YAFR,CA3G6B,CA+GvCC,aAAa,CAAE,CACbH,QAAQ,CAAE,UADG,CAEbI,GAAG,CAAE,CAFQ,CAGbC,KAAK,CAAE,CAHM,CAIbzC,OAAO,CAAE,MAJI,CAKbM,aAAa,CAAE,QALF,CAMbK,UAAU,CAAE,UANC,CAObC,cAAc,CAAE,QAPH,CAQbmB,SAAS,CAAE,SARE,CASblB,MAAM,CAAE,gBATK,CAUbM,eAAe,CAAE,WAVJ,CAWbd,KAAK,CAAE,GAXM,CAYbU,MAAM,CAAE,EAZK,CAabD,YAAY,CAAE,CAbD,CAcbX,OAAO,CAAE,CAdI,CAeb,0BAA2B,CACzBuC,SAAS,CAAE,EADc,CAfd,CAkBb,QAAS,CACPtB,MAAM,CAAE,SADD,CAEPkB,cAAc,CAAE,YAFT,CAlBI,CA/GwB,CAsIvCK,SAAS,CAAE,CACTlB,QAAQ,CAAE,EADD,CAETL,MAAM,CAAE,SAFC,CAtI4B,CA0IvCwB,UAAU,CAAE,CACVvC,KAAK,CAAE,MADG,CAEVU,MAAM,CAAE,MAFE,CAGVf,OAAO,CAAE,MAHC,CAIVY,cAAc,CAAE,QAJN,CAKVD,UAAU,CAAE,QALF,CAMVc,QAAQ,CAAE,EANA,CA1I2B,CAAD,CAAxC,CAoJA,GAAMoB,CAAAA,iBAAiB,CAAGxD,eAAe,CAAC,CACxCU,IAAI,CAAE,CACJM,KAAK,CAAE,MADH,CAEJL,OAAO,CAAE,MAFL,CAGJM,aAAa,CAAE,QAHX,CAIJM,cAAc,CAAE,YAJZ,CAKJkC,WAAW,CAAE,EALT,CADkC,CAQxCC,cAAc,CAAE,CACd1C,KAAK,CAAE,MADO,CAEdoB,QAAQ,CAAE,EAFI,CAGdI,YAAY,CAAE,iBAHA,CAIdK,UAAU,CAAE,GAJE,CAKdzB,YAAY,CAAE,EALA,CARwB,CAexCuC,cAAc,CAAE,CACdhD,OAAO,CAAE,MADK,CAfwB,CAkBxCiD,cAAc,CAAE,CACdxB,QAAQ,CAAE,EADI,CAlBwB,CAAD,CAAzC,CAuBA,GAAMyB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAMC,CAAAA,OAAO,CAAGN,iBAAiB,EAAjC,CACA,mBACE,aAAK,SAAS,CAAEM,OAAO,CAACpD,IAAxB,wBACE,YAAK,SAAS,CAAEoD,OAAO,CAACJ,cAAxB,iCADF,cAEE,YAAK,SAAS,CAAEI,OAAO,CAACH,cAAxB,uBACE,YAAK,SAAS,CAAEG,OAAO,CAACF,cAAxB,2BADF,EAFF,GADF,CAQD,CAVD,CAWA,GAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,mBACE,kCAAK,yCAAL,EADF,CAGD,CAJD,CAKA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMF,CAAAA,OAAO,CAAGrD,gBAAgB,EAAhC,CADqB,cAEuBV,QAAQ,CAAC,EAAD,CAF/B,wCAEdkE,cAFc,eAEEC,iBAFF,iCAGQhE,YAAY,EAHpB,gDAGZiE,IAHY,mBAGZA,IAHY,CAGJC,QAHI,kCAIKrE,QAAQ,CAAC,KAAD,CAJb,yCAIdsE,KAJc,eAIPC,QAJO,+BAKsBjE,UAAU,CAAC,CAAC,aAAD,CAAD,CALhC,4CAKdkE,OALc,iBAKLC,SALK,iBAKMC,YALN,iBAOrB3E,SAAS,CAAC,UAAM,CACd,CAAC,wDAAC,mLACqBK,CAAAA,OAAO,CAAC,aAAD,CAD5B,QACMuE,MADN,eAEA,GAAIA,MAAM,CAACC,MAAP,GAAkB,SAAtB,CAAiC,CACzB3B,QADyB,CACd0B,MAAM,CAAC1B,QADO,CAEzBmB,KAFyB,CAElBO,MAAM,CAACE,KAAP,CAAe,GAAf,CAAqBF,MAAM,CAACG,IAFV,CAG/BT,QAAQ,CAAC,CAAEU,IAAI,CAAE,UAAR,CAAoB9B,QAAQ,CAARA,QAApB,CAA8BmB,IAAI,CAAJA,KAA9B,CAAD,CAAR,CACA;AACD,CAPD,sDAAD,KASF,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBb,iBAAiB,CAAC,cAAD,CAAjB,CACD,CAFD,CAIA,GAAMc,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBd,iBAAiB,CAAC,YAAD,CAAjB,CACD,CAFD,CAGA,GAAMe,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzBZ,QAAQ,CAAC,CAACY,KAAF,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,MAAM,2FAAG,0KACQhF,CAAAA,OAAO,CAAC,SAAD,CADf,QACPuE,MADO,gBAEb,GAAIA,MAAM,CAACC,MAAP,GAAkB,SAAtB,CAAiC,CAC/BF,YAAY,CAAC,OAAD,CAAZ,CACAW,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CALY,wDAAH,kBAANH,CAAAA,MAAM,2CAAZ,CAOA,mBACE,aAAK,SAAS,CAAErB,OAAO,CAACpD,IAAxB,wBACE,YAAK,SAAS,CAAEoD,OAAO,CAAC9B,IAAxB,uBACE,aAAM,SAAS,CAAE8B,OAAO,CAAClB,KAAzB,CAAgC,OAAO,CAAE,yBAAMsB,CAAAA,iBAAiB,CAAC,EAAD,CAAvB,EAAzC,qBADF,EADF,cAIE,aAAK,SAAS,CAAEJ,OAAO,CAAChB,OAAxB,WACGuB,KAAK,eACJ,KAAC,SAAD,EAAW,OAAO,CAAEY,OAApB,uBACE,YAAK,SAAS,CAAEnB,OAAO,CAACZ,aAAxB,uBAEE,YAAK,OAAO,CAAEiC,MAAd,oBAFF,EADF,EAFJ,cASE,YAAK,SAAS,CAAErB,OAAO,CAACd,QAAxB,CAAkC,OAAO,CAAE,yBAAMsB,CAAAA,QAAQ,CAAC,IAAD,CAAd,EAA3C,UACGH,IADH,EATF,GAJF,cAiBE,aAAK,SAAS,CAAEL,OAAO,CAAC/C,SAAxB,wBACE,YACE,OAAO,CAAEgE,YADX,CACyB,KAAK,CAAC,KAD/B,CAEE,SAAS,CAAE9E,EAAE,CAAC6D,OAAO,CAACrB,MAAT,CAAiBqB,OAAO,CAACzB,WAAzB,CAFf,wBADF,cAOE,YACE,SAAS,CAAEpC,EAAE,CAAC6D,OAAO,CAACrB,MAAT,CAAiBqB,OAAO,CAACzB,WAAzB,CADf,CAEE,OAAO,CAAE,yBAAM6B,CAAAA,iBAAiB,CAAC,YAAD,CAAvB,EAFX,0BAPF,cAaE,YAAK,SAAS,CAAEjE,EAAE,CAAC6D,OAAO,CAACrB,MAAT,CAAiBqB,OAAO,CAACzB,WAAzB,CAAlB,CAAyD,OAAO,CAAE,yBAAM6B,CAAAA,iBAAiB,CAAC,WAAD,CAAvB,EAAlE,wBAbF,GAjBF,CAkCGD,cAAc,GAAK,EAAnB,eACC,YAAK,SAAS,CAAEH,OAAO,CAACP,UAAxB,iDAnCJ,CAuCGU,cAAc,GAAK,cAAnB,eAAqC,KAAC,YAAD,IAvCxC,CAwCGA,cAAc,GAAK,YAAnB,eAAmC,KAAC,UAAD,IAxCtC,CAyCGA,cAAc,GAAK,WAAnB,eAAkC,KAAC,SAAD,IAzCrC,GADF,CA6CD,CAlFD,CAoFA,cAAeD,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState}from \"react\"\nimport { createUseStyles } from \"react-jss\"\nimport cn from \"classnames\"\nimport { useRootState } from \"@/App.js\"\nimport { request } from \"@/request.js\"\nimport ClickAway from \"@/components/Utils/ClickAway\"\nimport { useCookies } from \"react-cookie\"\nimport AddNewRecord from \"@/components/Views/AddNewRecord\"\nimport ViewRecord from \"@/components/Views/ViewRecord\"\nimport VirusInfo from \"./VirusInfo\"\n\n// import ReactTable from \"react-table\";\n// import \"react-table/react-table.css\"\n\nconst useHomePageStyle = createUseStyles({\n  root: {\n    display: \"grid\",\n    gridTemplateColumns: \"1.25fr 6fr\",\n    gridTemplateRows: \"1fr 8fr\",\n    padding: \"30px 20px 20px 20px\",\n  },\n  menuPanel: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    paddingTop: 20,\n  },\n  searchResult: {\n    \"& > div\": {\n      marginBottom: 10,\n    },\n  },\n  inputBox: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"3px 10px 3px 10px\",\n    border: \"1px solid gray\",\n    borderRadius: 15,\n    height: 30,\n    width: 200,\n    marginBottom: 20,\n  },\n  input: {\n    border: \"0px none\",\n    outline: \"none\",\n    \"& :focus\": {\n      outline: \"none\",\n    },\n  },\n  submitBtn: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n    padding: \"3px 10px 3px 10px\",\n    border: \"1px solid gray\",\n    borderRadius: 15,\n    height: 30,\n    width: 100,\n    marginBottom: 20,\n    backgroundColor: \"greenyellow\",\n    cursor: \"pointer\",\n  },\n  flex: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n  },\n  inputs: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 3fr\",\n    gridTemplateRows: \"1fr 1fr 1fr 1fr 1fr\",\n    rowGap: \"1em\",\n    width: \"100%\",\n    marginBottom: 10,\n    \"& div\": {\n      marginRight: 15,\n      fontSize: 30,\n    },\n  },\n\n  menuOptions: {\n    width: \"100%\",\n    textAlign: \"center\",\n    fontSize: 20,\n    marginBottom: 10,\n    height: \"1.5em\",\n    cursor: \"pointer\",\n  },\n  sectionTitle: {\n    fontSize: 45,\n    width: \"100%\",\n    borderBottom: \"1px solid grey\",\n    marginBottom: \"10px\",\n  },\n  addNew: {\n    boxShadow: \"1px 2px\",\n    border: \"1px solid grey\",\n    borderRadius: \"20px\",\n  },\n  menuBtn: {\n    fontSize: 25,\n    cursor: \"pointer\",\n    marginRight: 5,\n  },\n  title: {\n    fontSize: 45,\n    fontWeight: \"bold\",\n    cursor: \"pointer\",\n  },\n\n  account: {\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    position: \"relative\",\n    alignItems: \"center\",\n  },\n  username: {\n    cursor: \"pointer\",\n    textDecoration: \" underline\",\n  },\n  accountOption: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-end\",\n    justifyContent: \"center\",\n    boxShadow: \"1px 2px\",\n    border: \"1px solid grey\",\n    backgroundColor: \"lightgrey\",\n    width: 200,\n    height: 50,\n    borderRadius: 5,\n    padding: 5,\n    \"& > *:not(:first-child)\": {\n      marginTop: 10,\n    },\n    \"& div\": {\n      cursor: \"pointer\",\n      textDecoration: \" underline\",\n    },\n  },\n  searchBtn: {\n    fontSize: 20,\n    cursor: \"pointer\",\n  },\n  unselected: {\n    width: \"100%\",\n    height: \"100%\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontSize: 50,\n  },\n})\n\nconst useInputFormStyle = createUseStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    paddingLeft: 30,\n  },\n  selectionTitle: {\n    width: \"100%\",\n    fontSize: 40,\n    borderBottom: \"1px solid black\",\n    fontWeight: 500,\n    marginBottom: 10,\n  },\n  selectionField: {\n    display: \"flex\",\n  },\n  selectionLabel: {\n    fontSize: 20,\n  },\n})\n\nconst InputForm = () => {\n  const classes = useInputFormStyle()\n  return (\n    <div className={classes.root}>\n      <div className={classes.selectionTitle}>Patient Information</div>\n      <div className={classes.selectionField}>\n        <div className={classes.selectionLabel}>Patient Name:</div>\n      </div>\n    </div>\n  )\n}\nconst ViewTable = () => {\n  return (\n    <div><h1>Table for Records</h1></div>\n  );\n}\nconst HomePage = () => {\n  const classes = useHomePageStyle()\n  const [currentDisplay, setCurrentDisplay] = useState(\"\")\n  const [{ name }, dispatch] = useRootState()\n  const [modal, setModal] = useState(false)\n  const [cookies, setCookie, removeCookie] = useCookies([\"cookie-name\"])\n\n  useEffect(() => {\n    ;(async () => {\n      const result = await request(\"getUserInfo\")\n      if (result.status === \"Success\") {\n        const username = result.username\n        const name = result.first + \" \" + result.last\n        dispatch({ type: \"SET_USER\", username, name })\n        // console.log(result)\n      }\n    })()\n  }, [])\n\n  const addNewRecord = () => {\n    setCurrentDisplay(\"addNewRecord\")\n  }\n\n  const viewRecord = () => {\n    setCurrentDisplay(\"viewRecord\")\n  }\n  const onClick = (state) => {\n    setModal(!state)\n  }\n\n  const logout = async () => {\n    const result = await request(\"signout\")\n    if (result.status === \"Success\") {\n      removeCookie(\"token\")\n      window.location.reload()\n    }\n  }\n  return (\n    <div className={classes.root}>\n      <div className={classes.flex}>\n        <span className={classes.title} onClick={() => setCurrentDisplay(\"\")}>HotZone</span>\n      </div>\n      <div className={classes.account}>\n        {modal && (\n          <ClickAway onClick={onClick}>\n            <div className={classes.accountOption}>\n              {/* <div>Change Password</div> */}\n              <div onClick={logout}>Logout</div>\n            </div>\n          </ClickAway>\n        )}\n        <div className={classes.username} onClick={() => setModal(true)}>\n          {name}\n        </div>\n      </div>\n      <div className={classes.menuPanel}>\n        <div\n          onClick={addNewRecord} value=\"add\"\n          className={cn(classes.addNew, classes.menuOptions)}\n        >\n          New record\n        </div>\n        <div\n          className={cn(classes.addNew, classes.menuOptions)}\n          onClick={() => setCurrentDisplay(\"viewRecord\")}\n        >\n          View Records\n        </div>\n        <div className={cn(classes.addNew, classes.menuOptions)} onClick={() => setCurrentDisplay(\"virusInfo\")}>\n          Virus Info\n        </div>\n      </div>\n      {currentDisplay === \"\" && (\n        <div className={classes.unselected}>\n          Please choose from the left options\n        </div>\n      )}\n      {currentDisplay === \"addNewRecord\" && <AddNewRecord />}\n      {currentDisplay === \"viewRecord\" && <ViewRecord />}\n      {currentDisplay === \"virusInfo\" && <VirusInfo />}\n    </div>\n  )\n}\n\nexport default HomePage\n"]},"metadata":{},"sourceType":"module"}