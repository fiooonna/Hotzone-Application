{"ast":null,"code":"import _regeneratorRuntime from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState,useMemo}from\"react\";import{createUseStyles}from\"react-jss\";import cn from\"classnames\";import{useRootState}from\"@/App.js\";import{request}from\"@/request.js\";import ClickAway from\"@/components/Utils/ClickAway\";var settingStyle=createUseStyles({root:{width:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"flex-start\",paddingLeft:30,position:\"relative\"},bigTitle:{width:\"100%\",fontSize:40,borderBottom:\"1px solid black\",fontWeight:500,marginBottom:10},selectionField:{display:\"flex\"},selectionLabel:{fontSize:20},submitBtn:{marginTop:20,width:\"10%\",height:40,color:\"white\",backgroundColor:\"black\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontWeight:\"bold\",cursor:\"pointer\",fontSize:20}});var mainStyle=createUseStyles({root:{display:\"flex\",flexDirection:\"column\",position:\"relative\"},setting:{marginTop:20,width:\"10%\",height:40,color:\"white\",backgroundColor:\"grey\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontWeight:\"bold\",fontSize:20,cursor:\"pointer\",position:\"absolute\",right:0}});var Clustering=function Clustering(props){// const classes = clusteringStyle()\nvar _useState=useState(\"data\"),_useState2=_slicedToArray(_useState,2),currentDisplay=_useState2[0],setCurrentDispaly=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),Dvalue=_useState6[0],setDvalue=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),Tvalue=_useState8[0],setTvalue=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),Cvalue=_useState10[0],setCvalue=_useState10[1];var classes=mainStyle();var onSettingSaved=function onSettingSaved(d,t,c){setDvalue(d);setTvalue(t);setCvalue(c);alert(\"Setting saved\");setCurrentDispaly(\"data\");};var clustering_func=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!Dvalue||!Tvalue||!Cvalue)){_context.next=4;break;}alert(\"Missing some fields\");_context.next=14;break;case 4:if(!(isNaN(Dvalue)||isNaN(Tvalue)||isNaN(Cvalue))){_context.next=8;break;}alert(\"All the fields should be a number.\");_context.next=14;break;case 8:_context.next=10;return request(\"findCluster\",{Dvalue:Dvalue,Tvalue:Tvalue,Cvalue:Cvalue});case 10:setDvalue(\"\");setTvalue(\"\");setCvalue(\"\");window.alert(\"You have successfully found a cluster.\");case 14:case\"end\":return _context.stop();}}},_callee);}));return function clustering_func(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[currentDisplay===\"data\"&&/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(\"div\",{className:classes.setting,onClick:function onClick(){return setCurrentDispaly(\"setting\");},children:\" Setting\"})}),currentDisplay===\"setting\"&&/*#__PURE__*/_jsx(Setting,{onSettingSaved:onSettingSaved})]});};var Setting=function Setting(props){var classes=settingStyle();var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),Dvalue=_useState12[0],setDvalue=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),Tvalue=_useState14[0],setTvalue=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),Cvalue=_useState16[0],setCvalue=_useState16[1];return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.bigTitle,children:\"Clustering\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.selectionField,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.selectionLabel,children:\"D value(in meter): \"}),/*#__PURE__*/_jsx(\"input\",{value:Dvalue,onChange:function onChange(e){return setDvalue(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.selectionField,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.selectionLabel,children:\"T value(in day): \"}),/*#__PURE__*/_jsx(\"input\",{value:Tvalue,onChange:function onChange(e){return setTvalue(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.selectionField,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.selectionLabel,children:\"C value(cluster size):\"}),/*#__PURE__*/_jsx(\"input\",{value:Cvalue,onChange:function onChange(e){return setCvalue(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitBtn,onClick:function onClick(){return props.onSettingSaved(Dvalue,Tvalue,Cvalue);},children:\"Save\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};export default Clustering;","map":{"version":3,"sources":["/Users/johnny/hotzone/frontend/src/components/Views/Clustering.js"],"names":["React","useEffect","useState","useMemo","createUseStyles","cn","useRootState","request","ClickAway","settingStyle","root","width","display","flexDirection","justifyContent","paddingLeft","position","bigTitle","fontSize","borderBottom","fontWeight","marginBottom","selectionField","selectionLabel","submitBtn","marginTop","height","color","backgroundColor","alignItems","cursor","mainStyle","setting","right","Clustering","props","currentDisplay","setCurrentDispaly","data","setData","Dvalue","setDvalue","Tvalue","setTvalue","Cvalue","setCvalue","classes","onSettingSaved","d","t","c","alert","clustering_func","isNaN","window","Setting","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\"\nimport { createUseStyles } from \"react-jss\"\nimport cn from \"classnames\"\nimport { useRootState } from \"@/App.js\"\nimport { request } from \"@/request.js\"\nimport ClickAway from \"@/components/Utils/ClickAway\"\n\nconst settingStyle = createUseStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    paddingLeft: 30,\n    position: \"relative\",\n  },\n  bigTitle: {\n    width: \"100%\",\n    fontSize: 40,\n    borderBottom: \"1px solid black\",\n    fontWeight: 500,\n    marginBottom: 10,\n  },\n  selectionField: {\n    display: \"flex\",\n  },\n  selectionLabel: {\n    fontSize: 20,\n  },\n  submitBtn: {\n    marginTop: 20,\n    width: \"10%\",\n    height: 40,\n    color: \"white\",\n    backgroundColor: \"black\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontWeight: \"bold\",\n    cursor: \"pointer\",\n    fontSize: 20,\n  },\n})\n\nconst mainStyle = createUseStyles({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n  },\n  setting: {\n    marginTop: 20,\n    width: \"10%\",\n    height: 40,\n    color: \"white\",\n    backgroundColor: \"grey\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 20,\n    cursor: \"pointer\",\n    position: \"absolute\",\n    right: 0,\n  },\n})\n\nconst Clustering = (props) => {\n  // const classes = clusteringStyle()\n\n  const [currentDisplay, setCurrentDispaly] = useState(\"data\")\n  const [data, setData] = useState([])\n  const [Dvalue, setDvalue] = useState(\"\")\n  const [Tvalue, setTvalue] = useState(\"\")\n  const [Cvalue, setCvalue] = useState(\"\")\n\n  const classes= mainStyle()\n  const onSettingSaved = (d, t, c) => {\n    setDvalue(d)\n    setTvalue(t)\n    setCvalue(c)\n    alert(\"Setting saved\")\n    setCurrentDispaly(\"data\")\n  }\n  const clustering_func = async () => {\n    if (!Dvalue || !Tvalue || !Cvalue) {\n      alert(\"Missing some fields\")\n    } else if (isNaN(Dvalue) || isNaN(Tvalue) || isNaN(Cvalue)) {\n      alert(\"All the fields should be a number.\")\n    } else {\n      await request(\"findCluster\", {\n        Dvalue: Dvalue,\n        Tvalue: Tvalue,\n        Cvalue: Cvalue,\n      })\n      setDvalue(\"\")\n      setTvalue(\"\")\n      setCvalue(\"\")\n      window.alert(\"You have successfully found a cluster.\")\n    }\n  }\n\n  return (\n    <>\n      {currentDisplay === \"data\" && \n        <div className={classes.root}>\n          <div className={classes.setting} onClick={() => setCurrentDispaly(\"setting\")}> Setting</div>\n        </div>\n      }\n      {currentDisplay === \"setting\" && (\n        <Setting onSettingSaved={onSettingSaved} />\n      )}\n    </>\n  )\n}\n\nconst Setting = (props) => {\n  const classes = settingStyle()\n  const [Dvalue, setDvalue] = useState(\"\")\n  const [Tvalue, setTvalue] = useState(\"\")\n  const [Cvalue, setCvalue] = useState(\"\")\n  return (\n    <div className={classes.root}>\n      <div className={classes.bigTitle}>Clustering</div>\n      <div className={classes.selectionField}>\n        <div className={classes.selectionLabel}>D value(in meter): </div>\n        <input value={Dvalue} onChange={(e) => setDvalue(e.target.value)} />\n      </div>\n      <br />\n      <div className={classes.selectionField}>\n        <div className={classes.selectionLabel}>T value(in day): </div>\n        <input value={Tvalue} onChange={(e) => setTvalue(e.target.value)} />\n      </div>\n      <br />\n      <div className={classes.selectionField}>\n        <div className={classes.selectionLabel}>C value(cluster size):</div>\n        <input value={Cvalue} onChange={(e) => setCvalue(e.target.value)} />\n      </div>\n      <br />\n      <div\n        className={classes.submitBtn}\n        onClick={() => props.onSettingSaved(Dvalue, Tvalue, Cvalue)}\n      >\n        Save\n      </div>\n\n      <br />\n      <br />\n      <br />\n    </div>\n  )\n}\nexport default Clustering\n"]},"metadata":{},"sourceType":"module"}