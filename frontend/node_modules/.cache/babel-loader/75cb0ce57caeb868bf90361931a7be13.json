{"ast":null,"code":"import _toConsumableArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{render}from\"react-dom\";import{createUseStyles}from\"react-jss\";import cn from\"classnames\";import{useRootState}from\"@/App.js\";import{request}from\"@/request.js\";import ClickAway from\"@/components/Utils/ClickAway\";var useInputFormStyle=createUseStyles({root:{width:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"flex-start\",paddingLeft:30,position:\"relative\"},selectionTitle:{width:\"100%\",fontSize:40,borderBottom:\"1px solid black\",fontWeight:500,marginBottom:10},selectionField:{display:\"flex\"},selectionLabel:{fontSize:20},nextPage:{cursor:\"pointer\",textDecoration:\" underline\",position:\"absolute\",bottom:0,right:20},searchBtn:{marginLeft:10},locationBox:{},addBtn:{marginTop:20,width:\"60%\",height:50,color:\"white\",backgroundColor:\"black\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontWeight:\"bold\",cursor:\"pointer\",fontSize:25}});var LocationRecord=function LocationRecord(props){var classes=useInputFormStyle();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),dateFrom=_useState4[0],setDateFrom=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),dateTo=_useState6[0],setDateTo=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchTerm=_useState8[0],setSearchTerm=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),result=_useState10[0],setResult=_useState10[1];var onDateFromChange=function onDateFromChange(value){if(category===\"visit\"){setDateTo(value);}setDateFrom(value);};var onDateToChange=function onDateToChange(value){if(category===\"visit\"){setDateFrom(value);}setDateTo(value);};var searchLocation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(searchTerm!==\"\")){_context.next=6;break;}_context.next=3;return request(\"searchLocation\",{locationTerm:searchTerm});case 3:_result=_context.sent;console.log(_result);setResult(_result);case 6:case\"end\":return _context.stop();}}},_callee);}));return function searchLocation(){return _ref.apply(this,arguments);};}();useEffect(function(){var location={category:category,dateFrom:dateFrom,dateTo:dateTo,searchTerm:searchTerm,result:result};console.log(location);props.onRecordChange(location);},[category,dateFrom,dateTo,searchTerm,result]);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"category\",value:category,onChange:function onChange(e){return setCategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"residence\",children:\"Residence\"}),/*#__PURE__*/_jsx(\"option\",{value:\"workplace\",children:\"Workplace\"}),/*#__PURE__*/_jsx(\"option\",{value:\"visit\",children:\"Visit\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"dateFrom\",value:dateFrom,onChange:function onChange(e){return onDateFromChange(e.target.value);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"dateTo\",value:dateTo,onChange:function onChange(e){return onDateToChange(e.target.value);}})}),/*#__PURE__*/_jsxs(\"td\",{className:classes.locationBox,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"location\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:classes.searchBtn,onClick:searchLocation,children:\"Search\"})]})]});};var LocationInfo=function LocationInfo(props){var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),page=_useState12[0],setPage=_useState12[1];var classes=useInputFormStyle();var blankrecord={category:\"\",dateFrom:\"\",dateTo:\"\",location:\"\",result:[]};var _useState13=useState([_objectSpread({},blankrecord)]),_useState14=_slicedToArray(_useState13,2),locationRecord=_useState14[0],setLocationRecord=_useState14[1];var addRecord=function addRecord(){var entry=_objectSpread({},blankrecord);setLocationRecord(function(locationRecord){return locationRecord.concat(entry);});};var _onRecordChange=function onRecordChange(location,i){var old=_toConsumableArray(locationRecord);old[i]=location;setLocationRecord(old);};useEffect(function(){console.log(locationRecord);},[locationRecord]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.selectionTitle,children:\"Add Location Record\"}),/*#__PURE__*/_jsxs(\"table\",{className:classes.empTable,children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date From\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date To\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:locationRecord.map(function(val,idx){return/*#__PURE__*/_jsx(LocationRecord,{onRecordChange:function onRecordChange(location){return _onRecordChange(location,idx);}});})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.addBtn,onClick:addRecord,children:\"Add\"})]});};export default LocationInfo;","map":{"version":3,"sources":["/Users/johnny/hotzone/frontend/src/components/Views/LocationInfo.js"],"names":["React","useEffect","useState","render","createUseStyles","cn","useRootState","request","ClickAway","useInputFormStyle","root","width","display","flexDirection","justifyContent","paddingLeft","position","selectionTitle","fontSize","borderBottom","fontWeight","marginBottom","selectionField","selectionLabel","nextPage","cursor","textDecoration","bottom","right","searchBtn","marginLeft","locationBox","addBtn","marginTop","height","color","backgroundColor","alignItems","LocationRecord","props","classes","category","setCategory","dateFrom","setDateFrom","dateTo","setDateTo","searchTerm","setSearchTerm","result","setResult","onDateFromChange","value","onDateToChange","searchLocation","locationTerm","console","log","location","onRecordChange","e","target","LocationInfo","page","setPage","blankrecord","locationRecord","setLocationRecord","addRecord","entry","concat","i","old","empTable","map","val","idx"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { render } from \"react-dom\"\nimport { createUseStyles } from \"react-jss\"\nimport cn from \"classnames\"\nimport { useRootState } from \"@/App.js\"\nimport { request } from \"@/request.js\"\nimport ClickAway from \"@/components/Utils/ClickAway\"\n\nconst useInputFormStyle = createUseStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    paddingLeft: 30,\n    position: \"relative\",\n  },\n  selectionTitle: {\n    width: \"100%\",\n    fontSize: 40,\n    borderBottom: \"1px solid black\",\n    fontWeight: 500,\n    marginBottom: 10,\n  },\n  selectionField: {\n    display: \"flex\",\n  },\n  selectionLabel: {\n    fontSize: 20,\n  },\n  nextPage: {\n    cursor: \"pointer\",\n    textDecoration: \" underline\",\n    position: \"absolute\",\n    bottom: 0,\n    right: 20,\n  },\n  searchBtn: {\n    marginLeft: 10,\n  },\n  locationBox: {},\n  addBtn: {\n    marginTop: 20,\n    width: \"60%\",\n    height: 50,\n    color: \"white\",\n    backgroundColor: \"black\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontWeight: \"bold\",\n    cursor: \"pointer\",\n    fontSize: 25,\n  },\n})\nconst LocationRecord = (props) => {\n  const classes = useInputFormStyle()\n  const [category, setCategory] = useState(\"\")\n  const [dateFrom, setDateFrom] = useState(\"\")\n  const [dateTo, setDateTo] = useState(\"\")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [result, setResult] = useState(\"\")\n\n\n  const onDateFromChange = (value) => {\n    if(category === \"visit\"){\n      setDateTo(value)\n    }\n    setDateFrom(value)\n  }\n  const onDateToChange = (value) => {\n    if(category === \"visit\"){\n      setDateFrom(value)\n    }\n    setDateTo(value)\n  }\n  const searchLocation = async () => {\n    if (searchTerm !== \"\") {\n      const result = await request(\"searchLocation\", {\n        locationTerm: searchTerm,\n      })\n      console.log(result)\n      setResult(result)\n    }\n  }\n  useEffect(() => {\n    const location = { category, dateFrom, dateTo, searchTerm, result }\n    console.log(location)\n    props.onRecordChange(location)\n  }, [category, dateFrom, dateTo, searchTerm, result])\n\n  \n  return (\n    <tr>\n      <td>\n        <select\n          className=\"category\"\n          value={category}\n          onChange={(e) => setCategory(e.target.value)}\n        >\n          <option value=\"residence\">Residence</option>\n          <option value=\"workplace\">Workplace</option>\n          <option value=\"visit\">Visit</option>\n        </select>\n      </td>\n      <td>\n        <input\n          type=\"date\"\n          className=\"dateFrom\"\n          value={dateFrom}\n          onChange={(e) => onDateFromChange(e.target.value)}\n        />\n      </td>\n      <td>\n        <input\n          type=\"date\"\n          className=\"dateTo\"\n          value={dateTo}\n          onChange={(e) => onDateToChange(e.target.value)}\n        />\n      </td>\n      <td className={classes.locationBox}>\n        <input\n          type=\"text\"\n          className=\"location\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <div className={classes.searchBtn} onClick={searchLocation}>\n          Search\n        </div>\n      </td>\n    </tr>\n  )\n}\n\nconst LocationInfo = (props) => {\n  const [page, setPage] = useState(0)\n  const classes = useInputFormStyle()\n  const blankrecord = {\n    category: \"\",\n    dateFrom: \"\",\n    dateTo: \"\",\n    location: \"\",\n    result: [],\n  }\n  const [locationRecord, setLocationRecord] = useState([{ ...blankrecord }])\n  const addRecord = () => {\n    const entry = { ...blankrecord }\n    setLocationRecord((locationRecord) => locationRecord.concat(entry))\n  }\n\n  const onRecordChange = (location,i) => {\n    let old = [...locationRecord]\n    old[i]=location\n    setLocationRecord(old)\n  }\n\n  useEffect(() => {\n    console.log(locationRecord)\n  },[locationRecord])\n \n  return (\n    <div className={classes.root}>\n      <div className={classes.selectionTitle}>Add Location Record</div>\n      <table className={classes.empTable}>\n        <tr>\n          <th>Category</th>\n          <th>Date From</th>\n          <th>Date To</th>\n          <th>Location</th>\n        </tr>\n        <tbody>\n          {locationRecord.map((val, idx) => {\n            return <LocationRecord onRecordChange={(location) => onRecordChange(location,idx)}/>\n          })}\n        </tbody>\n      </table>\n      <div className={classes.addBtn} onClick={addRecord}>\n        Add\n      </div>\n    </div>\n  )\n}\n\nexport default LocationInfo\n"]},"metadata":{},"sourceType":"module"}