{"ast":null,"code":"import _regeneratorRuntime from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{render}from\"react-dom\";import{createUseStyles}from\"react-jss\";import cn from\"classnames\";import{useRootState}from\"@/App.js\";import{request}from\"@/request.js\";import ClickAway from\"@/components/Utils/ClickAway\";var useInputFormStyle=createUseStyles({root:{width:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"flex-start\",paddingLeft:30,position:\"relative\"},selectionTitle:{width:\"100%\",fontSize:40,borderBottom:\"1px solid black\",fontWeight:500,marginBottom:10},selectionField:{display:\"flex\"},selectionLabel:{fontSize:20},nextPage:{cursor:\"pointer\",textDecoration:\" underline\",position:\"absolute\",bottom:0,right:20},searchBtn:{marginLeft:10},locationBox:{},addBtn:{marginTop:20,width:\"60%\",height:50,color:\"white\",backgroundColor:\"black\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontWeight:\"bold\",cursor:\"pointer\",fontSize:25}});var LocationInfo=function LocationInfo(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var classes=useInputFormStyle();var handleRecordChange=function handleRecordChange(e){var updatedRecords=_toConsumableArray(locationRecord);updatedRecords[e.target.dataset.idx][e.target.className]=e.target.value;setLocationRecord(updatedRecords);};var blankrecord={category:'',dateFrom:'',dateTo:'',location:'',result:[]};var _useState3=useState([_objectSpread({},blankrecord)]),_useState4=_slicedToArray(_useState3,2),locationRecord=_useState4[0],setLocationRecord=_useState4[1];var addRecord=function addRecord(){var entry=_objectSpread({},blankrecord);setLocationRecord(function(locationRecord){return locationRecord.concat(entry);});};var location=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(idx){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(locationRecord[idx].location!==\"\")){_context.next=5;break;}_context.next=3;return request(\"searchLocation\",{locationTerm:locationRecord[idx].location});case 3:result=_context.sent;setLocationRecord();case 5:case\"end\":return _context.stop();}}},_callee);}));return function location(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.selectionTitle,children:\"Add Location Record\"}),/*#__PURE__*/_jsxs(\"table\",{className:classes.empTable,children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date From\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date To\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:locationRecord.map(function(val,idx){var categoryId=\"category-\".concat(idx);var dateFromId=\"dateFrom-\".concat(idx);var dateToId=\"dateTo-\".concat(idx);var locationId=\"location-\".concat(idx);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{name:categoryId,\"data-idx\":idx,id:categoryId,className:\"category\",value:locationRecord[idx].category,onChange:handleRecordChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"residence\",children:\"Residence\"}),/*#__PURE__*/_jsx(\"option\",{value:\"workplace\",children:\"Workplace\"}),/*#__PURE__*/_jsx(\"option\",{value:\"visit\",children:\"Visit\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:dateFromId,\"data-idx\":idx,id:dateFromId,className:\"dateFrom\",value:locationRecord[idx].dateFrom,onChange:handleRecordChange})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:dateToId,\"data-idx\":idx,id:dateToId,className:\"dateTo\",value:locationRecord[idx].dateTo,onChange:handleRecordChange})}),/*#__PURE__*/_jsxs(\"td\",{className:classes.locationBox,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:locationId,\"data-idx\":idx,id:locationId,className:\"location\",value:locationRecord[idx].location,onChange:handleRecordChange}),/*#__PURE__*/_jsx(\"div\",{className:classes.searchBtn,onClick:function onClick(){return location(idx);},children:\"Search\"})]})]},\"record-\".concat(idx));})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.addBtn,onClick:addRecord,children:\"Add\"})]});};export default LocationInfo;","map":{"version":3,"sources":["/Users/johnny/hotzone/frontend/src/components/Views/LocationInfo.js"],"names":["React","useEffect","useState","render","createUseStyles","cn","useRootState","request","ClickAway","useInputFormStyle","root","width","display","flexDirection","justifyContent","paddingLeft","position","selectionTitle","fontSize","borderBottom","fontWeight","marginBottom","selectionField","selectionLabel","nextPage","cursor","textDecoration","bottom","right","searchBtn","marginLeft","locationBox","addBtn","marginTop","height","color","backgroundColor","alignItems","LocationInfo","props","page","setPage","classes","handleRecordChange","e","updatedRecords","locationRecord","target","dataset","idx","className","value","setLocationRecord","blankrecord","category","dateFrom","dateTo","location","result","addRecord","entry","concat","locationTerm","empTable","map","val","categoryId","dateFromId","dateToId","locationId"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { render } from \"react-dom\";\nimport { createUseStyles } from \"react-jss\"\nimport cn from \"classnames\"\nimport { useRootState } from \"@/App.js\"\nimport { request } from \"@/request.js\"\nimport ClickAway from \"@/components/Utils/ClickAway\"\n\nconst useInputFormStyle = createUseStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    paddingLeft: 30,\n    position: \"relative\",\n  },\n  selectionTitle: {\n    width: \"100%\",\n    fontSize: 40,\n    borderBottom: \"1px solid black\",\n    fontWeight: 500,\n    marginBottom: 10,\n  },\n  selectionField: {\n    display: \"flex\",\n  },\n  selectionLabel: {\n    fontSize: 20,\n  },\n  nextPage: {\n    cursor: \"pointer\",\n    textDecoration: \" underline\",\n    position: \"absolute\",\n    bottom: 0,\n    right: 20,\n  },\n  searchBtn:{\n    marginLeft:10,\n  },\n  locationBox:{\n\n  },\n  addBtn: {\n    marginTop: 20,\n    width: \"60%\",\n    height:50,\n    color:\"white\",\n    backgroundColor: \"black\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontWeight: \"bold\",\n    cursor: \"pointer\",\n    fontSize: 25,\n  },\n\n})\n\nconst LocationInfo = (props) => {\n  const [page, setPage] = useState(0)\n  const classes = useInputFormStyle()\n\n  const handleRecordChange = (e) => {\n    const updatedRecords = [...locationRecord];\n    updatedRecords[e.target.dataset.idx][e.target.className] = e.target.value;\n    setLocationRecord(updatedRecords);\n  };\n\n\n  const blankrecord={ category: '', dateFrom: '' ,dateTo:'',location:'',result:[]};\n\n  const [locationRecord, setLocationRecord] = useState([\n    {...blankrecord}\n  ]);\n  const addRecord=()=>{\n    const entry = {...blankrecord}\n    setLocationRecord(locationRecord => locationRecord.concat(entry))\n  };\n\nconst location=async(idx)=>{\n\n  if(locationRecord[idx].location !== \"\"){\n    const result = await request(\"searchLocation\",{locationTerm:locationRecord[idx].location})\n    setLocationRecord()\n\n  }\n}\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.selectionTitle}>Add Location Record</div>\n      <table className={classes.empTable}>\n        <tr>\n          <th>Category</th>\n          <th>Date From</th>\n          <th>Date To</th>\n          <th>Location</th>\n        </tr>\n        <tbody>\n\n          {\n                  locationRecord.map((val, idx) => {\n                    const categoryId = `category-${idx}`;\n                    const dateFromId = `dateFrom-${idx}`;\n                    const dateToId = `dateTo-${idx}`;\n                    const locationId = `location-${idx}`;\n                    return (\n                      <tr key={`record-${idx}`}>\n                      <td>\n                      <select name={categoryId}\n                      data-idx={idx}\n                      id={categoryId}\n                      className=\"category\"\n                      value={locationRecord[idx].category}\n                      onChange={handleRecordChange}>\n                        <option value=\"residence\">Residence</option>\n                        <option value=\"workplace\">Workplace</option>\n                        <option value=\"visit\">Visit</option>\n                      </select>\n                      </td>\n                      <td>\n                        <input\n                          type=\"date\"\n                          name={dateFromId}\n                          data-idx={idx}\n                          id={dateFromId}\n                          className=\"dateFrom\"\n                          value={locationRecord[idx].dateFrom}\n                          onChange={handleRecordChange}\n                        />\n                        </td>\n                        <td>\n                        <input\n                          type=\"date\"\n                          name={dateToId}\n                          data-idx={idx}\n                          id={dateToId}\n                          className=\"dateTo\"\n                          value={locationRecord[idx].dateTo}\n                          onChange={handleRecordChange}\n                        />\n                        </td>\n                        <td className={classes.locationBox}>\n                        <input\n                          type=\"text\"\n                          name={locationId}\n                          data-idx={idx}\n                          id={locationId}\n                          className=\"location\"\n                          value={locationRecord[idx].location}\n                          onChange={handleRecordChange}\n                        />\n                        <div className={classes.searchBtn} onClick={()=>location(idx)}>Search</div>\n\n                        </td>\n                      </tr>\n\n                    );\n                  })\n                }\n\n                </tbody>\n                </table>\n                <div className={classes.addBtn} onClick={addRecord}>Add</div>\n\n\n\n\n    </div>\n  )\n}\n\n\nexport default LocationInfo\n"]},"metadata":{},"sourceType":"module"}