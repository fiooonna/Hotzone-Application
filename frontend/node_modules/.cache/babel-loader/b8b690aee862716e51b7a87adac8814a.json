{"ast":null,"code":"import _toConsumableArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/johnny/hotzone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import{render}from\"react-dom\";import{createUseStyles}from\"react-jss\";import cn from\"classnames\";import{useRootState}from\"@/App.js\";import{request}from\"@/request.js\";import ClickAway from\"@/components/Utils/ClickAway\";var useInputFormStyle=createUseStyles({root:{width:\"100%\",display:\"flex\",flexDirection:\"column\",justifyContent:\"flex-start\",paddingLeft:30,position:\"relative\"},selectionTitle:{width:\"100%\",fontSize:40,borderBottom:\"1px solid black\",fontWeight:500,marginBottom:10},selectionField:{display:\"flex\"},selectionLabel:{fontSize:20},nextPage:{cursor:\"pointer\",textDecoration:\" underline\",position:\"absolute\",bottom:0,right:20},searchBtn:{marginLeft:10,cursor:\"pointer\"},locationBox:{},addBtn:{marginTop:20,width:\"60%\",height:50,color:\"white\",backgroundColor:\"black\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",fontWeight:\"bold\",cursor:\"pointer\",fontSize:25},closeBtn:{cursor:\"pointer\"},searchContainer:{position:\"relative\"},dropDown:{position:\"absolute\",display:\"flex\",flexDirection:\"column\",border:\"1px solid black\",backgroundColor:\"white\",\"& > div\":{paddingLeft:10}}});var LocationRecord=function LocationRecord(props){var classes=useInputFormStyle();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),dateFrom=_useState4[0],setDateFrom=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),dateTo=_useState6[0],setDateTo=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchTerm=_useState8[0],setSearchTerm=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),result=_useState10[0],setResult=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),deleted=_useState12[0],setDeleted=_useState12[1];var onDateFromChange=function onDateFromChange(value){if(category===\"visit\"){setDateTo(value);}setDateFrom(value);};var onDateToChange=function onDateToChange(value){if(category===\"visit\"){setDateFrom(value);}setDateTo(value);};var searchLocation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(searchTerm!==\"\")){_context.next=6;break;}_context.next=3;return request(\"searchLocation\",{locationTerm:searchTerm});case 3:_result=_context.sent;console.log(_result);setResult(_result);case 6:case\"end\":return _context.stop();}}},_callee);}));return function searchLocation(){return _ref.apply(this,arguments);};}();useEffect(function(){var location={category:category,dateFrom:dateFrom,dateTo:dateTo,searchTerm:searchTerm,result:result};console.log(location);props.onRecordChange(location);},[category,dateFrom,dateTo,searchTerm,result]);var sample=[1,2,3,4];return/*#__PURE__*/_jsx(_Fragment,{children:!deleted&&/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{className:\"category\",value:category,onChange:function onChange(e){return setCategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"residence\",children:\"Residence\"}),/*#__PURE__*/_jsx(\"option\",{value:\"workplace\",children:\"Workplace\"}),/*#__PURE__*/_jsx(\"option\",{value:\"visit\",children:\"Visit\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"dateFrom\",value:dateFrom,onChange:function onChange(e){return onDateFromChange(e.target.value);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"dateTo\",value:dateTo,onChange:function onChange(e){return onDateToChange(e.target.value);}})}),/*#__PURE__*/_jsx(\"td\",{className:classes.locationBox,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.searchContainer,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"location\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:classes.searchBtn,onClick:searchLocation,children:\"Search\"}),result!==\"\"&&/*#__PURE__*/_jsx(\"div\",{className:classes.dropDown,children:sample.map(function(i){return/*#__PURE__*/_jsx(\"div\",{children:i});})})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"i\",{className:cn(classes.closeBtn,\"fa fa-window-close\"),onClick:function onClick(){props.onDeleteRow();setDeleted(true);}})})]})});};var LocationInfo=function LocationInfo(props){var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),page=_useState14[0],setPage=_useState14[1];var classes=useInputFormStyle();var blankrecord={category:\"\",dateFrom:\"\",dateTo:\"\",location:\"\",result:[]};var _useState15=useState([_objectSpread({},blankrecord)]),_useState16=_slicedToArray(_useState15,2),locationRecord=_useState16[0],setLocationRecord=_useState16[1];var addRecord=function addRecord(){var entry=_objectSpread({},blankrecord);setLocationRecord(function(locationRecord){return locationRecord.concat(entry);});};var _onDeleteRow=function onDeleteRow(i){var old=_toConsumableArray(locationRecord);old[i]={};setLocationRecord(old);};var _onRecordChange=function onRecordChange(location,i){var old=_toConsumableArray(locationRecord);old[i]=location;setLocationRecord(old);};useEffect(function(){console.log(locationRecord);},[locationRecord]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.selectionTitle,children:\"Add Location Record\"}),/*#__PURE__*/_jsxs(\"table\",{className:classes.empTable,children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date From\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date To\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:locationRecord.map(function(val,idx){if(val!=={})return/*#__PURE__*/_jsx(LocationRecord,{onRecordChange:function onRecordChange(location){return _onRecordChange(location,idx);},onDeleteRow:function onDeleteRow(){return _onDeleteRow(idx);}});return/*#__PURE__*/_jsx(_Fragment,{});})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.addBtn,onClick:addRecord,children:\"Add\"})]});};export default LocationInfo;","map":{"version":3,"sources":["/Users/johnny/hotzone/frontend/src/components/Views/LocationInfo.js"],"names":["React","useEffect","useState","render","createUseStyles","cn","useRootState","request","ClickAway","useInputFormStyle","root","width","display","flexDirection","justifyContent","paddingLeft","position","selectionTitle","fontSize","borderBottom","fontWeight","marginBottom","selectionField","selectionLabel","nextPage","cursor","textDecoration","bottom","right","searchBtn","marginLeft","locationBox","addBtn","marginTop","height","color","backgroundColor","alignItems","closeBtn","searchContainer","dropDown","border","LocationRecord","props","classes","category","setCategory","dateFrom","setDateFrom","dateTo","setDateTo","searchTerm","setSearchTerm","result","setResult","deleted","setDeleted","onDateFromChange","value","onDateToChange","searchLocation","locationTerm","console","log","location","onRecordChange","sample","e","target","map","i","onDeleteRow","LocationInfo","page","setPage","blankrecord","locationRecord","setLocationRecord","addRecord","entry","concat","old","empTable","val","idx"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { render } from \"react-dom\"\nimport { createUseStyles } from \"react-jss\"\nimport cn from \"classnames\"\nimport { useRootState } from \"@/App.js\"\nimport { request } from \"@/request.js\"\nimport ClickAway from \"@/components/Utils/ClickAway\"\n\nconst useInputFormStyle = createUseStyles({\n  root: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"flex-start\",\n    paddingLeft: 30,\n    position: \"relative\",\n  },\n  selectionTitle: {\n    width: \"100%\",\n    fontSize: 40,\n    borderBottom: \"1px solid black\",\n    fontWeight: 500,\n    marginBottom: 10,\n  },\n  selectionField: {\n    display: \"flex\",\n  },\n  selectionLabel: {\n    fontSize: 20,\n  },\n  nextPage: {\n    cursor: \"pointer\",\n    textDecoration: \" underline\",\n    position: \"absolute\",\n    bottom: 0,\n    right: 20,\n  },\n  searchBtn: {\n    marginLeft: 10,\n    cursor: \"pointer\",\n  },\n  locationBox: {},\n  addBtn: {\n    marginTop: 20,\n    width: \"60%\",\n    height: 50,\n    color: \"white\",\n    backgroundColor: \"black\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontWeight: \"bold\",\n    cursor: \"pointer\",\n    fontSize: 25,\n  },\n  closeBtn: {\n    cursor: \"pointer\",\n  },\n  searchContainer: {\n    position: \"relative\",\n  },\n  dropDown: {\n    position: \"absolute\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    border: \"1px solid black\",\n    backgroundColor: \"white\",\n    \"& > div\": {\n      paddingLeft: 10,\n    },\n  },\n})\nconst LocationRecord = (props) => {\n  const classes = useInputFormStyle()\n  const [category, setCategory] = useState(\"\")\n  const [dateFrom, setDateFrom] = useState(\"\")\n  const [dateTo, setDateTo] = useState(\"\")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [result, setResult] = useState(\"\")\n  const [deleted, setDeleted] = useState(false)\n\n  const onDateFromChange = (value) => {\n    if (category === \"visit\") {\n      setDateTo(value)\n    }\n    setDateFrom(value)\n  }\n  const onDateToChange = (value) => {\n    if (category === \"visit\") {\n      setDateFrom(value)\n    }\n    setDateTo(value)\n  }\n  const searchLocation = async () => {\n    if (searchTerm !== \"\") {\n      const result = await request(\"searchLocation\", {\n        locationTerm: searchTerm,\n      })\n      console.log(result)\n      setResult(result)\n    }\n  }\n  useEffect(() => {\n    const location = { category, dateFrom, dateTo, searchTerm, result }\n    console.log(location)\n    props.onRecordChange(location)\n  }, [category, dateFrom, dateTo, searchTerm, result])\n\n  const sample = [1, 2, 3, 4]\n  return (\n    <>\n      {!deleted && (\n        <tr>\n          <td>\n            <select\n              className=\"category\"\n              value={category}\n              onChange={(e) => setCategory(e.target.value)}\n            >\n              <option value=\"residence\">Residence</option>\n              <option value=\"workplace\">Workplace</option>\n              <option value=\"visit\">Visit</option>\n            </select>\n          </td>\n          <td>\n            <input\n              type=\"date\"\n              className=\"dateFrom\"\n              value={dateFrom}\n              onChange={(e) => onDateFromChange(e.target.value)}\n            />\n          </td>\n          <td>\n            <input\n              type=\"date\"\n              className=\"dateTo\"\n              value={dateTo}\n              onChange={(e) => onDateToChange(e.target.value)}\n            />\n          </td>\n          <td className={classes.locationBox}>\n            <div className={classes.searchContainer}>\n              <input\n                type=\"text\"\n                className=\"location\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n              <span className={classes.searchBtn} onClick={searchLocation}>\n                Search\n              </span>\n              {result !== \"\" && (\n                <div className={classes.dropDown}>\n                  {sample.map((i) => (\n                    <div>{i}</div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </td>\n          <td>\n            <i\n              className={cn(classes.closeBtn, \"fa fa-window-close\")}\n              onClick={() => {\n                props.onDeleteRow()\n                setDeleted(true)\n              }}\n            ></i>\n          </td>\n        </tr>\n      )}\n    </>\n  )\n}\n\nconst LocationInfo = (props) => {\n  const [page, setPage] = useState(0)\n  const classes = useInputFormStyle()\n  const blankrecord = {\n    category: \"\",\n    dateFrom: \"\",\n    dateTo: \"\",\n    location: \"\",\n    result: [],\n  }\n  const [locationRecord, setLocationRecord] = useState([{ ...blankrecord }])\n  const addRecord = () => {\n    const entry = { ...blankrecord }\n    setLocationRecord((locationRecord) => locationRecord.concat(entry))\n  }\n\n  const onDeleteRow = (i) => {\n    let old = [...locationRecord]\n    old[i] = {}\n    setLocationRecord(old)\n  }\n\n  const onRecordChange = (location, i) => {\n    let old = [...locationRecord]\n    old[i] = location\n    setLocationRecord(old)\n  }\n\n  useEffect(() => {\n    console.log(locationRecord)\n  }, [locationRecord])\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.selectionTitle}>Add Location Record</div>\n      <table className={classes.empTable}>\n        <tr>\n          <th>Category</th>\n          <th>Date From</th>\n          <th>Date To</th>\n          <th>Location</th>\n          <th>Delete</th>\n        </tr>\n        <tbody>\n          {locationRecord.map((val, idx) => {\n            if (val !== {})\n              return (\n                <LocationRecord\n                  onRecordChange={(location) => onRecordChange(location, idx)}\n                  onDeleteRow={() => onDeleteRow(idx)}\n                />\n              )\n            return <></>\n          })}\n        </tbody>\n      </table>\n      <div className={classes.addBtn} onClick={addRecord}>\n        Add\n      </div>\n    </div>\n  )\n}\n\nexport default LocationInfo\n"]},"metadata":{},"sourceType":"module"}